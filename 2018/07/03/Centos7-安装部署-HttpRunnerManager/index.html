<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Centos7 å®‰è£…éƒ¨ç½² HttpRunnerManager | THÂ·tester</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Centos7 å®‰è£…éƒ¨ç½² HttpRunnerManager V2.0HttpRunnerManager V2.0æ­¤é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºHttpRunnerçš„æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•å¹³å°ï¼ŒåŒæ—¶HttpRunner æ˜¯ä¸€æ¬¾é¢å‘ HTTP(S) åè®®çš„é€šç”¨æµ‹è¯•æ¡†æ¶ åªéœ€ç¼–å†™ç»´æŠ¤ä¸€ä»½ YAML&#x2F;JSON è„šæœ¬ï¼Œå³å¯å®ç°è‡ªåŠ¨åŒ–æµ‹è¯•ã€æ€§èƒ½æµ‹è¯•ã€çº¿ä¸Šç›‘æ§ã€æŒç»­é›†æˆç­‰å¤šç§æµ‹è¯•ä»»åŠ¡  ä¸€ã€å‡†å¤‡ç¯å¢ƒå’Œå®‰è£…åŒ… ä¸»è¦ï¼šCentOS7ï¼Œ">
<meta property="og:type" content="article">
<meta property="og:title" content="Centos7 å®‰è£…éƒ¨ç½² HttpRunnerManager">
<meta property="og:url" content="http://yoursite.com/2018/07/03/Centos7-%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2-HttpRunnerManager/index.html">
<meta property="og:site_name" content="THÂ·tester">
<meta property="og:description" content="Centos7 å®‰è£…éƒ¨ç½² HttpRunnerManager V2.0HttpRunnerManager V2.0æ­¤é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºHttpRunnerçš„æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•å¹³å°ï¼ŒåŒæ—¶HttpRunner æ˜¯ä¸€æ¬¾é¢å‘ HTTP(S) åè®®çš„é€šç”¨æµ‹è¯•æ¡†æ¶ åªéœ€ç¼–å†™ç»´æŠ¤ä¸€ä»½ YAML&#x2F;JSON è„šæœ¬ï¼Œå³å¯å®ç°è‡ªåŠ¨åŒ–æµ‹è¯•ã€æ€§èƒ½æµ‹è¯•ã€çº¿ä¸Šç›‘æ§ã€æŒç»­é›†æˆç­‰å¤šç§æµ‹è¯•ä»»åŠ¡  ä¸€ã€å‡†å¤‡ç¯å¢ƒå’Œå®‰è£…åŒ… ä¸»è¦ï¼šCentOS7ï¼Œ">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2018-07-03T15:52:40.000Z">
<meta property="article:modified_time" content="2020-06-03T04:55:04.373Z">
<meta property="article:author" content="THÂ·tester">
<meta property="article:tag" content="HttpRunner">
<meta property="article:tag" content="HttpRunnerManager">
<meta property="article:tag" content="æ¥å£å¹³å°">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="THÂ·tester" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">THÂ·tester</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">90åï¼Œè½¯ä»¶æµ‹è¯•ï¼Œå¥³åˆåŠ›åŠ›æˆä¸ºä¸€åğŸ®ğŸºçš„æµ‹è¯•ä¼ å¥‡ï¼Œå˜»å˜»å˜»&lt;(ï¿£ï¸¶ï¿£)â†—[GO!]</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS è®¢é˜…"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="æœç´¢"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="æœç´¢"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Centos7-å®‰è£…éƒ¨ç½²-HttpRunnerManager" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/07/03/Centos7-%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2-HttpRunnerManager/" class="article-date">
  <time class="dt-published" datetime="2018-07-03T15:52:40.000Z" itemprop="datePublished">2018-07-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Centos7 å®‰è£…éƒ¨ç½² HttpRunnerManager
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="Centos7-å®‰è£…éƒ¨ç½²-HttpRunnerManager-V2-0"><a href="#Centos7-å®‰è£…éƒ¨ç½²-HttpRunnerManager-V2-0" class="headerlink" title="Centos7 å®‰è£…éƒ¨ç½² HttpRunnerManager V2.0"></a>Centos7 å®‰è£…éƒ¨ç½² HttpRunnerManager V2.0</h4><p>HttpRunnerManager V2.0æ­¤é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºHttpRunnerçš„æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•å¹³å°ï¼ŒåŒæ—¶HttpRunner æ˜¯ä¸€æ¬¾é¢å‘ HTTP(S) åè®®çš„é€šç”¨æµ‹è¯•æ¡†æ¶</p>
<p>åªéœ€ç¼–å†™ç»´æŠ¤ä¸€ä»½ YAML/JSON è„šæœ¬ï¼Œå³å¯å®ç°è‡ªåŠ¨åŒ–æµ‹è¯•ã€æ€§èƒ½æµ‹è¯•ã€çº¿ä¸Šç›‘æ§ã€æŒç»­é›†æˆç­‰å¤šç§æµ‹è¯•ä»»åŠ¡</p>
<p> <strong>ä¸€ã€å‡†å¤‡ç¯å¢ƒå’Œå®‰è£…åŒ…</strong></p>
<p>ä¸»è¦ï¼šCentOS7ï¼ŒHttpRunnerManager V2.0ï¼Œmysqlï¼ˆMariaDBï¼‰ï¼Œpython3.7ï¼ŒDjango2.1.2ï¼Œrabbitmq-server-3.7.15<a id="more"></a></p>
<p>ç³»ç»Ÿä¸‹è½½åœ°å€ï¼š</p>
<p>CentOSï¼š<a href="https://mirrors.edge.kernel.org/centos/7.6.1810/isos/x86_64/CentOS-7-x86_64-DVD-1810.iso" target="_blank" rel="noopener">https://mirrors.edge.kernel.org/centos/7.6.1810/isos/x86_64/CentOS-7-x86_64-DVD-1810.iso</a></p>
<p>HttpRunnerManager V2.0ï¼š<a href="https://github.com/HttpRunner/HttpRunnerManager" target="_blank" rel="noopener">https://github.com/HttpRunner/HttpRunnerManager</a></p>
<p>mysqlï¼Œpythonï¼Œrabbitmq ï¼ˆå®‰è£…ç•¥ï¼‰</p>
<p>åœ¨ mysql ä¸­æ–°å»º HttpRunner å’Œ HttpRunner_debugï¼ˆç”¨äºDEBUGç‰ˆæœ¬ï¼‰æ•°æ®åº“ï¼Œcharset utf8</p>
<p><strong>äºŒã€ä¿®æ”¹é¡¹ç›®è®¾ç½®</strong></p>
<p>1ã€æ‰“å¼€ä¸‹è½½åè§£å‹çš„æºç åŒ…ï¼Œè¿›å…¥ HttpRunnerManager/HttpRunnerManager æ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰¾åˆ° settings.py æ‰“å¼€ä¿®æ”¹</p>
<p>$ vim settings.py</p>
<p>ï¼ˆ1ï¼‰DEBUG = False</p>
<p>ï¼ˆ2ï¼‰DATABASES å­—æ®µï¼Œå¡«å†™ä½¿ç”¨çš„æ•°æ®åº“ä¿¡æ¯ï¼ˆåŒºåˆ† DEBUGï¼‰</p>
<p>ï¼ˆ3ï¼‰ä¿®æ”¹é‚®ç®±é…ç½®ï¼šEMAIL_SEND_USERNAMEå’ŒEMAIL_SEND_PASSWORDï¼ˆè¦æ‰“å¼€ smtp æœåŠ¡ï¼‰</p>
<p>ï¼ˆ4ï¼‰ä¿®æ”¹ djcelery.setup_loader() ä¸‹ rabbitmq-server ç›¸å…³é…ç½® ï¼šBROKER_URL å’Œ CELERYD_MAX_TASKS_PER_CHILD = 200</p>
<p>2ã€mysql æ–‡ä»¶ mysql_config æ‹·è´åˆ° /usr/local/ä¸‹<br>ln -s /usr/bin/mysql/bin/mysql_config /usr/local/bin/mysql_config</p>
<p>3ã€å®‰è£… python ä¾èµ–æ¨¡å—ï¼ˆä¹Ÿå¯ä»¥ pip3 install -r requirements.txtï¼Œä½†æ˜¯æä¾›çš„ç‰ˆæœ¬ä¸å‡†ç¡®ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">pip3 install --upgrade pip</span><br><span class="line">pip3 install mysqlclient</span><br><span class="line">pip3 install Django==2.1.3</span><br><span class="line">pip3 install HttpRunner==1.5.8</span><br><span class="line">pip3 install django_celery_beat==2.0.0</span><br><span class="line">pip3 install eventlet==0.22.1</span><br><span class="line">pip3 install django-celery==3.2.2</span><br><span class="line">pip3 install flower==0.9.2</span><br><span class="line">pip3 install dwebsocket==0.4.2</span><br><span class="line">pip3 install paramiko==2.4.1</span><br><span class="line">pip3 install PyYAML</span><br></pre></td></tr></table></figure>



<p><strong>ä¸‰ã€è¿è¡Œ</strong></p>
<p>1ã€æ•°æ®åº“ mysql æœåŠ¡å’Œ RabbitMQ æœåŠ¡å¤„äºå¯åŠ¨çŠ¶æ€</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rabbitmq-server -detached</span><br></pre></td></tr></table></figure>



<p>2ã€æ‰§è¡Œ migrate å’Œåˆ›å»ºç®¡ç†å‘˜</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python3 manage.py makemigrations ApiManager</span><br><span class="line">python3 manage.py migrate</span><br><span class="line">python3 manage.py createsuperuser</span><br></pre></td></tr></table></figure>



<p>3ã€å¯åŠ¨æœåŠ¡</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup python3 manage.py runserver 0.0.0.0:9003 &gt; /dev/null &amp;</span><br></pre></td></tr></table></figure>



<p><strong>å››ã€ç™»å½•ç®¡ç†</strong></p>
<p>ç®¡ç†å‘˜ç™»å½•é¡µé¢ï¼š<a href="http://127.0.0.1:9003/admin/" target="_blank" rel="noopener">http://127.0.0.1:9003/admin/</a></p>
<p>ç”¨æˆ·ç™»å½•é¡µé¢ï¼š<a href="http://127.0.0.1:9003/api/login/" target="_blank" rel="noopener">http://127.0.0.1:9003/api/login/</a></p>
<p><strong>äº”ã€å¼‚æ­¥ä»»åŠ¡å’Œ \</strong>dashboard****</p>
<p>1ã€rabbitmq å¼€å¯ web æ’ä»¶</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rabbitmq-plugins <span class="built_in">enable</span> rabbitmq_management</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•è®¿é—®ï¼š<a href="http://127.0.0.1:15672/" target="_blank" rel="noopener">http://127.0.0.1:15672/</a> é»˜è®¤è´¦å·å¯†ç ï¼šguest guestï¼ˆè¿™ä¸ªè´¦å·åªå…è®¸æœ¬æœºè®¿é—®ï¼‰</p>
<p>2ã€ä¿®æ”¹ templates/base.html</p>
<p>å°† <a href="http://192.168.91.45:5555/dashboard" target="_blank" rel="noopener">http://192.168.91.45:5555/dashboard</a> æ”¹ä¸º <a href="http://127.0.0.1:5555/dashboard" target="_blank" rel="noopener">http://127.0.0.1:5555/dashboard</a></p>
<p>3ã€ä¿®æ”¹ HttpRunnerManager/settings.py</p>
<p>BROKER_URL = â€˜<a href="amqp://dev:zwc123@192.168.91.45:5672//">amqp://dev:zwc123@192.168.91.45:5672//</a>â€˜ if DEBUG else â€˜<a href="amqp://dev:zwc123@192.168.91.45:5672//">amqp://dev:zwc123@192.168.91.45:5672//</a>â€˜</p>
<p>æ”¹ä¸º</p>
<p>BROKER_URL = â€˜<a href="amqp://guest:guest@localhost:5672//">amqp://guest:guest@localhost:5672//</a>â€˜ if DEBUG else â€˜<a href="amqp://guest:guest@localhost:5672//">amqp://guest:guest@localhost:5672//</a>â€˜</p>
<p>4ã€å¯åŠ¨ worker ï¼ˆå¦‚æœé€‰æ‹©åŒæ­¥æ‰§è¡Œå¹¶ç¡®ä¿ä¸ä¼šä½¿ç”¨åˆ°å®šæ—¶ä»»åŠ¡ï¼Œé‚£ä¹ˆæ­¤æ­¥éª¤å¯å¿½ç•¥ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 manage.py celery -A HttpRunnerManager worker --loglevel=info</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ çš„ tornado ç‰ˆæœ¬å¤§äº 6 ä¼šæç¤ºé”™è¯¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AttributeError: module <span class="string">'tornado.web'</span> has no attribute <span class="string">'asynchronous'</span></span><br></pre></td></tr></table></figure>

<p>é™çº§å®‰è£… tornado å³å¯è§£å†³ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip3 uninstall tornado</span><br><span class="line">pip3 install tornado==5.1.1</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ çš„ Python ç‰ˆæœ¬æ˜¯ 3.7 ä¼šæç¤ºé”™è¯¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">File <span class="string">"/usr/local/lib/python3.7/site-packages/celery/utils/timer2.py"</span>, line 19</span><br><span class="line">    from kombu.async.timer import Entry, Timer as Schedule, to_timestamp, logger</span><br><span class="line">                   ^</span><br><span class="line">SyntaxError: invalid syntax</span><br></pre></td></tr></table></figure>

<p>æ˜¯å› ä¸º async åœ¨ python3.7 å·²ç»æ˜¯å…³é”®å­—ï¼Œä½†æ˜¯ celery ç‰ˆæœ¬æ²¡æœ‰æ›´æ–°ï¼Œåœ¨æ›´æ–°å‰æˆ‘ä»¬è‡ªå·±ä¿®æ”¹ celery æ–‡ä»¶ä¸­çš„ async ä¸º async_2 å°±å¯ä»¥ï¼ˆå®šä¹‰å’Œå¼•ç”¨å…¨éƒ½æ”¹ï¼‰ï¼š</p>
<p>1ï¼‰ä¿®æ”¹ kombu æ¨¡å—</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/lib/python3.7/site-packages/kombu</span><br><span class="line">mv ./async ./async_2</span><br><span class="line">grep -nHIrE <span class="string">'\basync\b'</span> *</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°æ¨¡å—è°ƒç”¨ç›¸å…³å…¨éƒ¨æ›¿æ¢</p>
<p>vim:%s/kombu.async/kombu.async_2/g</p>
<p>æ”¹å®Œåæ£€æŸ¥ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -nHIrE <span class="string">'\basync\b'</span> *</span><br></pre></td></tr></table></figure>

<p>2ï¼‰ä¿®æ”¹ celery æ¨¡å—</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/lib/python3.7/site-packages/celery</span><br><span class="line">grep -nHIrE <span class="string">'\bkombu\.async\b'</span> *</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°æ¨¡å—è°ƒç”¨ç›¸å…³å…¨éƒ¨æ›¿æ¢</p>
<p>vim:%s/kombu.async/kombu.async_2/g</p>
<p>æ”¹å®Œåæ£€æŸ¥ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -nHIrE <span class="string">'\bkombu\.async\b'</span> *</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æµ‹è¯•å¯åŠ¨ workerï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 manage.py celery -A HttpRunnerManager worker --loglevel=info</span><br></pre></td></tr></table></figure>



<p>5ã€å¯åŠ¨å®šæ—¶ä»»åŠ¡ç›‘å¬å™¨</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 manage.py celery -A HttpRunnerManager worker --loglevel=info</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶è®¿é—® <a href="http://127.0.0.1:5555/dashboard" target="_blank" rel="noopener">http://127.0.0.1:5555/dashboard</a> ï¼ˆæˆ–è€…httprunner ç³»ç»Ÿè®¾ç½®â€“ä»»åŠ¡ç›‘æ§ï¼‰å¯æ‰“å¼€ dashboard</p>
<p>6ã€å¯åŠ¨ä»»åŠ¡ç›‘æ§åå°</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 manage.py celery -A HttpRunnerManager flower</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶å¼‚æ­¥æ‰§è¡Œã€å®šæ—¶ä»»åŠ¡ã€ä»»åŠ¡ç›‘æ§æ¨¡å—éƒ½å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚**<br>**</p>
<p>**<br>**</p>
<p><strong>å¤‡æ³¨ï¼š</strong></p>
<p>HttpRunner HttpRunnerManager ç•Œé¢æ ·å¼ä¸¢å¤±é—®é¢˜è§£å†³åŠæ³•ï¼š</p>
<p>templates æ–‡ä»¶å¤¹ä¸‹ï¼Œä¿®æ”¹ base.htmlï¼Œamazeui.min.js çš„å¼•ç”¨ä½ç½®</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"http://cdnjs.cloudflare.com/ajax/libs/amazeui/2.7.2/css/amazeui.min.css"</span>/&gt;</span><br><span class="line">&lt;!--&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"http://cdn.amazeui.org/amazeui/2.7.2/css/amazeui.min.css"</span>/&gt;--&gt;</span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"&#123;% static 'assets/css/admin.css' %&#125;"</span>&gt;</span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"&#123;% static 'assets/css/common.css' %&#125;"</span>&gt;</span><br></pre></td></tr></table></figure>

<p>å¦å¤–ï¼Œåœ¨DEBUG=Trueæ¨¡å¼ä¸‹ï¼Œé¡µé¢æ ·å¼æ²¡é—®é¢˜ï¼Œåœ¨DEBUG=Falseæ¨¡å¼ä¸‹å°±æœ‰é—®é¢˜ï¼Œç›®å‰å…ˆä½¿ç”¨çš„æ˜¯Debugæ¨¡å¼ï¼Œåé¢ç ”ç©¶ä¸‹ã€‚</p>
<p>å»ºè®®è°ƒè¯•ç‰ˆå’Œæ­£å¼ç‰ˆçš„æºæ–‡ä»¶æ”¾åœ¨ä¸¤ä¸ªå·¥ç¨‹ä¸‹ï¼Œé¿å…äº’ç›¸å½±å“ã€‚</p>
<p><strong>è§£å†³ä¸€äº›Bugï¼š</strong></p>
<p>1ã€ ç™¾åº¦æœªæˆæƒä½¿ç”¨åœ°å›¾API</p>
<p>ç™»å½•æ‰“å¼€é¦–é¡µçš„æ—¶å€™ï¼Œä¼šå¼¹å‡ºæç¤ºï¼šç™¾åº¦æœªæˆæƒä½¿ç”¨åœ°å›¾APIï¼Œå¯èƒ½æ˜¯å› ä¸ºæ‚¨æä¾›çš„å¯†é’¥ä¸æ˜¯æœ‰æ•ˆçš„ç™¾åº¦LBSå¼€æ”¾å¹³å°å¯†é’¥ï¼Œæˆ–æ­¤å¯†é’¥æœªå¯¹æœ¬åº”ç”¨çš„ç™¾åº¦åœ°å›¾JavaScriptAPIæˆæƒã€‚æ‚¨å¯ä»¥è®¿é—®å¦‚ä¸‹ç½‘å€äº†è§£å¦‚ä½•è·å–æœ‰æ•ˆçš„å¯†é’¥ï¼š<a href="http://lbsyun.baidu.com/apiconsole/key#ã€‚" target="_blank" rel="noopener">http://lbsyun.baidu.com/apiconsole/key#ã€‚</a></p>
<p>é—®é¢˜åŸå› ï¼šå¯èƒ½æ˜¯ä½œè€…çš„ KEYè¿‡æœŸæˆ–è€…æ— æ•ˆï¼Œå› ä¸ºç”¨ä¸åˆ°è¿™ä¸ªåŠŸèƒ½ï¼Œæ‰¾åˆ°å¯¹åº”ä»£ç ç›´æ¥æ³¨é‡Šæ‰å³å¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> templates</span><br><span class="line">cat *.html | grep map.baidu.com</span><br><span class="line">grep -nHIrF <span class="string">'map.baidu.com'</span> *.html</span><br></pre></td></tr></table></figure>



<p>2ã€é¦–é¡µä¸æ˜¾ç¤ºå›¾è¡¨</p>
<p>é—®é¢˜åŸå› ï¼šç™¾åº¦åŸŸåä¸‹çš„ echarts ç›¸å…³èµ„æºè®¿é—®ä¸äº†äº†</p>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<p>1ï¼‰<a href="https://www.echartsjs.com/zh/builder.html" target="_blank" rel="noopener">https://www.echartsjs.com/zh/builder.html</a> é€‰ä¸­ä½ éœ€è¦çš„ç»„ä»¶ï¼Œç„¶åä¼šç”Ÿæˆ echarts.js å¹¶ä¸”ä¸‹è½½åˆ°æœ¬åœ°</p>
<p>2ï¼‰æŠŠä¸‹è½½ä¸‹æ¥çš„ echarts.js æ–‡ä»¶ï¼Œæ”¾åˆ°å¼€å‘æ–‡ä»¶å¤¹çš„ static/assets/js/ ç›®å½•ä¸‹</p>
<p>3ï¼‰åˆ° templates ç›®å½•æŸ¥æ‰¾æ‰€æœ‰ç›¸å…³æ–‡ä»¶ï¼Œå¯¹åº” js ä»£ç ï¼Œå…¨éƒ¨æ³¨é‡Šæ‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -nHIriE <span class="string">'echarts\.baidu\.com'</span> *</span><br></pre></td></tr></table></figure>

<p>4ï¼‰æ³¨é‡Šæ‰ js ä»£ç ä¸‹ æ›¿æ¢ä¸€è¡Œä»£ç å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;&#123;% static &#39;assets&#x2F;js&#x2F;echarts.js&#39; %&#125;&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/03/Centos7-%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2-HttpRunnerManager/" data-id="ckaywfofe0008ac9b29dt5bb9" data-title="Centos7 å®‰è£…éƒ¨ç½² HttpRunnerManager" class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HttpRunner/" rel="tag">HttpRunner</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HttpRunnerManager/" rel="tag">HttpRunnerManager</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8E%A5%E5%8F%A3%E5%B9%B3%E5%8F%B0/" rel="tag">æ¥å£å¹³å°</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/10/03/Android-App-%E4%B8%93%E9%A1%B9%E6%B5%8B%E8%AF%95/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">å‰ä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          Android App ä¸“é¡¹æµ‹è¯•
        
      </div>
    </a>
  
  
    <a href="/2018/07/03/Redis-%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C%E5%92%8C%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">åä¸€ç¯‡</strong>
      <div class="article-nav-title">Redis åŸºç¡€æ“ä½œå’Œå¸¸ç”¨å‘½ä»¤</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/API/" rel="tag">API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HttpRunner/" rel="tag">HttpRunner</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HttpRunnerManager/" rel="tag">HttpRunnerManager</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jmeter/" rel="tag">Jmeter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Locust/" rel="tag">Locust</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Monkey/" rel="tag">Monkey</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/adb/" rel="tag">adb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%93%E9%A1%B9%E6%B5%8B%E8%AF%95/" rel="tag">ä¸“é¡¹æµ‹è¯•</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/" rel="tag">å‹åŠ›æµ‹è¯•</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%91%E5%B8%83%E6%B5%81%E7%A8%8B/" rel="tag">å‘å¸ƒæµç¨‹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%91%BD%E4%BB%A4/" rel="tag">å‘½ä»¤</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%89%E5%85%A8%E6%B5%8B%E8%AF%95/" rel="tag">å®‰å…¨æµ‹è¯•</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B/" rel="tag">å®¢æˆ·ç«¯æµ‹è¯•æµç¨‹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" rel="tag">å¸¸ç”¨å‘½ä»¤</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8A%93%E5%8C%85/" rel="tag">æŠ“åŒ…</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%A5%E5%8F%A3%E5%B9%B3%E5%8F%B0/" rel="tag">æ¥å£å¹³å°</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/" rel="tag">æ¥å£æµ‹è¯•</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/" rel="tag">æµ‹è¯•å·¥å…·</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B/" rel="tag">æµ‹è¯•æµç¨‹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B/" rel="tag">æµ‹è¯•ç”¨ä¾‹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E8%AF%95%E7%AD%96%E7%95%A5/" rel="tag">æµ‹è¯•ç­–ç•¥</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/" rel="tag">ç¬¬ä¸‰æ–¹åº“</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
    <div class="widget tagcloud">
      <a href="/tags/API/" style="font-size: 10px;">API</a> <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/HttpRunner/" style="font-size: 10px;">HttpRunner</a> <a href="/tags/HttpRunnerManager/" style="font-size: 10px;">HttpRunnerManager</a> <a href="/tags/Jmeter/" style="font-size: 10px;">Jmeter</a> <a href="/tags/Locust/" style="font-size: 10px;">Locust</a> <a href="/tags/Monkey/" style="font-size: 10px;">Monkey</a> <a href="/tags/Python/" style="font-size: 13.33px;">Python</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/adb/" style="font-size: 13.33px;">adb</a> <a href="/tags/%E4%B8%93%E9%A1%B9%E6%B5%8B%E8%AF%95/" style="font-size: 10px;">ä¸“é¡¹æµ‹è¯•</a> <a href="/tags/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/" style="font-size: 16.67px;">å‹åŠ›æµ‹è¯•</a> <a href="/tags/%E5%8F%91%E5%B8%83%E6%B5%81%E7%A8%8B/" style="font-size: 10px;">å‘å¸ƒæµç¨‹</a> <a href="/tags/%E5%91%BD%E4%BB%A4/" style="font-size: 16.67px;">å‘½ä»¤</a> <a href="/tags/%E5%AE%89%E5%85%A8%E6%B5%8B%E8%AF%95/" style="font-size: 10px;">å®‰å…¨æµ‹è¯•</a> <a href="/tags/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B/" style="font-size: 10px;">å®¢æˆ·ç«¯æµ‹è¯•æµç¨‹</a> <a href="/tags/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" style="font-size: 10px;">å¸¸ç”¨å‘½ä»¤</a> <a href="/tags/%E6%8A%93%E5%8C%85/" style="font-size: 10px;">æŠ“åŒ…</a> <a href="/tags/%E6%8E%A5%E5%8F%A3%E5%B9%B3%E5%8F%B0/" style="font-size: 10px;">æ¥å£å¹³å°</a> <a href="/tags/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/" style="font-size: 10px;">æ¥å£æµ‹è¯•</a> <a href="/tags/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/" style="font-size: 10px;">æµ‹è¯•å·¥å…·</a> <a href="/tags/%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B/" style="font-size: 13.33px;">æµ‹è¯•æµç¨‹</a> <a href="/tags/%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B/" style="font-size: 10px;">æµ‹è¯•ç”¨ä¾‹</a> <a href="/tags/%E6%B5%8B%E8%AF%95%E7%AD%96%E7%95%A5/" style="font-size: 13.33px;">æµ‹è¯•ç­–ç•¥</a> <a href="/tags/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/" style="font-size: 10px;">ç¬¬ä¸‰æ–¹åº“</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">å››æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">ä¹æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">å…«æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">ä¸ƒæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">äºŒæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">ä¸€æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">åæœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">ä¸ƒæœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">å…­æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">äº”æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">åæœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">ä¹æœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">å…­æœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">ä¸‰æœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">ä¸€æœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">å…­æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">å››æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">ä¸€æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">åæœˆ 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/04/03/tcpdump-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7%E6%8A%93%E5%8C%85/">tcpdump å‘½ä»¤è¡Œå·¥å…·æŠ“åŒ…</a>
          </li>
        
          <li>
            <a href="/2019/09/03/%E5%B8%B8%E7%94%A8%E8%BE%85%E5%8A%A9%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/">å¸¸ç”¨è¾…åŠ©æµ‹è¯•å·¥å…·â€œ</a>
          </li>
        
          <li>
            <a href="/2019/08/25/Locust-%E4%BB%BB%E6%84%8F%E9%9D%9Ehttp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%8E%A5%E5%8F%A3%E5%8E%8B%E6%B5%8B%E5%AE%9E%E7%8E%B0/">Locust ä»»æ„éhttpåè®®çš„æ¥å£å‹æµ‹å®ç°</a>
          </li>
        
          <li>
            <a href="/2019/07/03/Python-%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/">Pythonç¼–ç è§„èŒƒ</a>
          </li>
        
          <li>
            <a href="/2019/02/25/Locust-%E5%88%86%E5%B8%83%E5%BC%8F%E5%8E%8B%E6%B5%8B/">Locust åˆ†å¸ƒå¼å‹æµ‹</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 THÂ·tester<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>